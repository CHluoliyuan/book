{"version":3,"file":"js/772.f8d2e112.js","mappings":"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","sources":["webpack://vue/./src/views/borrow/Add.vue","webpack://vue/src/views/borrow/Add.vue","webpack://vue/./src/views/borrow/Add.vue?6ebc","webpack://vue/./src/views/borrow/Add.vue?53a2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"width\":\"80%\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"30px\"}},[_vm._v(\"新增借书记录\")]),_c('el-form',{ref:\"ruleForm\",attrs:{\"inline\":true,\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"图书编号\",\"prop\":\"book_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.selBook},model:{value:(_vm.form.book_id),callback:function ($$v) {_vm.$set(_vm.form, \"book_id\", $$v)},expression:\"form.book_id\"}},_vm._l((_vm.books),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.bookNo,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"图书名称\",\"prop\":\"book_name\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.book_name),callback:function ($$v) {_vm.$set(_vm.form, \"book_name\", $$v)},expression:\"form.book_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所需积分\",\"prop\":\"book_score\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.book_score),callback:function ($$v) {_vm.$set(_vm.form, \"book_score\", $$v)},expression:\"form.book_score\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图书数量\",\"prop\":\"book_nums\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.book_nums),callback:function ($$v) {_vm.$set(_vm.form, \"book_nums\", $$v)},expression:\"form.book_nums\"}})],1),_c('br'),_c('el-form-item',{attrs:{\"label\":\"会员码\",\"prop\":\"user_id\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.selUser},model:{value:(_vm.form.user_id),callback:function ($$v) {_vm.$set(_vm.form, \"user_id\", $$v)},expression:\"form.user_id\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.username,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"user_name\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.user_name),callback:function ($$v) {_vm.$set(_vm.form, \"user_name\", $$v)},expression:\"form.user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户联系方式\",\"prop\":\"user_phone\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.user_phone),callback:function ($$v) {_vm.$set(_vm.form, \"user_phone\", $$v)},expression:\"form.user_phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户账户积分\",\"prop\":\"user_account\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.user_account),callback:function ($$v) {_vm.$set(_vm.form, \"user_account\", $$v)},expression:\"form.user_account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"借出的天数\",\"prop\":\"days\"}},[_c('el-input-number',{attrs:{\"min\":1,\"max\":30,\"label\":\"借出的天数\"},model:{value:(_vm.form.days),callback:function ($$v) {_vm.$set(_vm.form, \"days\", $$v)},expression:\"form.days\"}})],1)],1),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"30px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.save}},[_vm._v(\"提交\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width: 80%\">\r\n    <div style=\"margin-bottom: 30px\">新增借书记录</div>\r\n    <el-form :inline=\"true\" :rules=\"rules\" ref=\"ruleForm\" :model=\"form\" label-width=\"100px\">\r\n      <el-form-item label=\"图书编号\" prop=\"book_id\">\r\n        <el-select v-model=\"form.book_id\" clearable filterable placeholder=\"请选择\" @change=\"selBook\">\r\n          <el-option\r\n              v-for=\"item in books\"\r\n              :key=\"item.id\"\r\n              :label=\"item.bookNo\"\r\n              :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"图书名称\" prop=\"book_name\">\r\n        <el-input v-model=\"form.book_name\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"所需积分\" prop=\"book_score\">\r\n        <el-input v-model=\"form.book_score\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图书数量\" prop=\"book_nums\">\r\n        <el-input v-model=\"form.book_nums\" disabled></el-input>\r\n      </el-form-item>\r\n      <br />\r\n      <el-form-item label=\"会员码\" prop=\"user_id\">\r\n        <el-select v-model=\"form.user_id\" filterable placeholder=\"请选择\" @change=\"selUser\">\r\n          <el-option\r\n              v-for=\"item in users\"\r\n              :key=\"item.id\"\r\n              :label=\"item.username\"\r\n              :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户名称\" prop=\"user_name\">\r\n        <el-input disabled v-model=\"form.user_name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户联系方式\" prop=\"user_phone\">\r\n        <el-input disabled v-model=\"form.user_phone\" ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户账户积分\" prop=\"user_account\">\r\n        <el-input disabled v-model=\"form.user_account\" ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"借出的天数\" prop=\"days\">\r\n        <el-input-number v-model=\"form.days\" :min=\"1\" :max=\"30\" label=\"借出的天数\"></el-input-number>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <div style=\"text-align: center; margin-top: 30px\">\r\n      <el-button type=\"primary\" @click=\"save\" size=\"medium\">提交</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: 'AddBook',\r\n  data() {\r\n    return {\r\n      form: {days: 1},\r\n      books: [],\r\n      users: [],\r\n      rules: {\r\n        book_id: [\r\n          { required: true, message: '请输入图书码', trigger: 'blur'}\r\n        ],\r\n        user_id: [\r\n          { required: true, message: '请输入会员码', trigger: 'blur'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    request.get('/book_list').then(res => {\r\n      this.books = res.data.list\r\n    })\r\n\r\n    request.get('/user_list').then(res => {\r\n      this.users = res.data.list\r\n    })\r\n  },\r\n  methods: {\r\n    save() {\r\n      console.log(this.form)\r\n      this.$refs['ruleForm'].validate((valid) => {\r\n        if (valid) {\r\n          request.post('/borrow_create', this.form).then(res => {\r\n            if (res.code === '200') {\r\n              this.$notify.success('新增成功')\r\n              this.$refs['ruleForm'].resetFields()\r\n              request.get('/user_list').then(res => {\r\n                this.users = res.data.list\r\n              })\r\n              request.get('/book_list').then(res => {\r\n                this.books = res.data.list\r\n              })\r\n            } else {\r\n              this.$notify.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    selBook() {\r\n      const book = this.books.find(v => v.id === this.form.book_id)\r\n        this.form.book_name=book.name\r\n        this.form.book_score = book.score\r\n        this.form.book_nums = book.nums\r\n    },\r\n    selUser() {\r\n      const user = this.users.find(v => v.id === this.form.user_id)\r\n      this.form.user_name=user.name\r\n      this.form.user_phone = user.phone\r\n      this.form.user_account = user.account\r\n    },\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=d4d2047e&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","_v","ref","attrs","rules","form","on","selBook","model","value","book_id","callback","$$v","$set","expression","_l","books","item","key","id","bookNo","book_name","book_score","book_nums","selUser","user_id","users","username","user_name","user_phone","user_account","days","save","staticRenderFns","name","data","required","message","trigger","created","request","methods","console","component"],"sourceRoot":""}